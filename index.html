<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Control Center Audio â€“ Dashboard Compacto</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- ============================
     ESTILOS GLOBALES
=============================== -->
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: "Inter", system-ui, sans-serif;
        background: #0d0f16;
        color: #f2f2f2;
        overflow: hidden; /* ðŸ”’ SIN SCROLL */
    }

    .layout {
        width: 1920px;
        height: 1080px;
        display: grid;
        grid-template-rows: 100px 280px 300px 400px;
        grid-row-gap: 10px;
        padding: 10px 20px;
        box-sizing: border-box;
    }

    /* ------------------------------
       TOP BAR
    ------------------------------- */
    .top-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 100px;
    }

    .title {
        font-size: 28px;
        font-weight: 700;
    }

    .filters {
        display: flex;
        gap: 12px;
    }

    .filters select {
        background: #1c1f29;
        border: 1px solid #333;
        color: #fff;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
    }

    /* ------------------------------
       KPI BAR
    ------------------------------- */
    .kpi-row {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 12px;
    }

    .kpi {
        background: #1a1d25;
        border-radius: 12px;
        padding: 15px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    .kpi .label {
        font-size: 14px;
        opacity: 0.7;
    }

    .kpi .value {
        font-size: 28px;
        font-weight: 700;
        margin-top: 6px;
    }

    /* ------------------------------
       GRAFICOS CENTRALES
    ------------------------------- */
    .charts {
        display: grid;
        grid-template-columns: 350px 350px 1fr;
        gap: 12px;
    }

    .chart-box {
        background: #1a1d25;
        border-radius: 12px;
        padding: 15px;
        position: relative;
        display: flex;
        flex-direction: column;
    }

    canvas {
        width: 100% !important;
        height: 100% !important;
    }

    .chart-title {
        font-size: 16px;
        margin-bottom: 8px;
        opacity: 0.8;
    }

    /* ------------------------------
       RADAR DELEGADOS
    ------------------------------- */
    .radar-box {
        background: #1a1d25;
        border-radius: 12px;
        padding: 15px;
        display: flex;
        flex-direction: column;
    }

    /* ------------------------------
       FALDÃ“N DELEGADOS (OPCIÃ“N C)
    ------------------------------- */

    .delegados-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
        padding-bottom: 10px;
        overflow: hidden;
    }

    .delegado-card {
        background: #1a1d25;
        border-radius: 12px;
        padding: 0;
        display: flex;
        flex-direction: column;
        cursor: pointer;
        border: 1px solid #2a2d36;
        transition: transform 0.15s ease;
    }

    .delegado-card:hover {
        transform: scale(1.01);
    }

    .delegado-header {
        height: 20px;
        border-radius: 12px 12px 0 0;
    }

    .delegado-body {
        padding: 10px 12px;
    }

    .delegado-body .name {
        font-size: 16px;
        font-weight: 600;
    }

    .delegado-body .centros-toggle {
        margin-top: 4px;
        font-size: 14px;
        opacity: 0.8;
    }

    .centros-list {
        display: none;
        padding: 10px 12px;
        font-size: 13px;
        max-height: 180px;
        overflow-y: auto;
    }

    .centro-item {
        margin-bottom: 6px;
        opacity: 0.8;
    }
</style>

<!-- CHART.JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

<div class="layout">

    <!-- ============================
         TOP BAR
    =============================== -->
    <div class="top-bar">
        <div class="title">Control Center Audio Â· Dashboard Compacto</div>

        <div class="filters">
            <select>
                <option>Ãšltimos 12 meses</option>
                <option>Ãšltimos 6 meses</option>
                <option>Ãšltimos 30 dÃ­as</option>
            </select>

            <select>
                <option>Todos los centros</option>
                <option>Propios</option>
                <option>Franquicia</option>
            </select>
        </div>
    </div>

    <!-- ============================
         KPI ROW
    =============================== -->
    <div class="kpi-row">
        <div class="kpi"><span class="label">Visitas</span><span class="value">316</span></div>
        <div class="kpi"><span class="label">Servicios</span><span class="value">497</span></div>
        <div class="kpi"><span class="label">Ventas</span><span class="value">27%</span></div>
        <div class="kpi"><span class="label">AplicaciÃ³n HIT</span><span class="value">82%</span></div>
        <div class="kpi"><span class="label">AAR</span><span class="value">64%</span></div>
        <div class="kpi"><span class="label">Ayudas</span><span class="value">41%</span></div>
    </div>

    <!-- ============================
         GRAFICOS
    =============================== -->
    <div class="charts">

        <!-- DONUT VISITAS -->
        <div class="chart-box">
            <div class="chart-title">Estado de Visitas</div>
            <canvas id="donutVisitas"></canvas>
        </div>

        <!-- DONUT SERVICIOS -->
        <div class="chart-box">
            <div class="chart-title">DistribuciÃ³n de Servicios</div>
            <canvas id="donutServicios"></canvas>
        </div>

        <!-- RADAR -->
        <div class="radar-box">
            <div class="chart-title">Comparativa Delegados (Radar)</div>
            <canvas id="radarDelegados"></canvas>
        </div>
    </div>

    <!-- ============================
         FALDÃ“N DELEGADOS (OPCIÃ“N C)
    =============================== -->
    <div class="delegados-grid" id="delegadosGrid">
        <!-- Las tarjetas se rellenan con JS -->
    </div>

</div>

<!-- ============================
     SCRIPT PRINCIPAL
=============================== -->
<script>

    /* =======================================================
       COLORES ASIGNADOS AUTOMÃTICAMENTE A CADA DELEGADO
    ======================================================== */
    const delegadosColores = {
        "Eneritz Aranguren": "#2ECC71",
        "Laura Plazas": "#3498DB",
        "Daniel Chazo": "#9B59B6",
        "Manuel CÃ¡novas": "#E67E22",
        "Cecilia PÃ©rez": "#1ABC9C",
        "Martin SebastiÃ¡n": "#E74C3C",
        "Marisa Carmona": "#F1C40F",
        "Laura Ramos": "#2E86C1",
        "Blanca Fdez. de la Pradilla": "#A569BD",
        "Maribel Amezcua": "#D35400",
        "Sonia Godino": "#7DCEA0",
        "VerÃ³nica AlfonsÃ­n": "#5DADE2",
        "Sergio PerÃ¡n": "#CD6155"
    };

    /* =======================================================
       CENTROS POR DELEGADO (EXTRAÃDOS DE TU TABLA)
       âš ï¸ SIN CAMBIOS - fiel al documento
    ======================================================== */
    const centrosPorDelegado = {
        "Eneritz Aranguren": [
            "Avenida Diagonal - Barcelona",
            "Barcelona CC Vilamarina",
            "Girona - Plaza SantalÃ³",
            "Tarragona - Calle Comte de Rius",
            "Terrassa",
            "Soria Las Camaretas",
            "Vilanova",
            "Zaragoza (varios centros)",
            "Huesca",
            "Lleida Carrefour",
            "TÃ¡rrega",
            "Manresa Carrefour",
            "Figueras Carrefour"
        ],
        "Laura Plazas": [
            "Cerdanyola",
            "Barcelona CC Diagonal Mar",
            "Barcelona Via Augusta",
            "Cardedeu",
            "CornellÃ¡",
            "Granollers",
            "GavÃ¡",
            "Hospitalet Carrefour",
            "Vic",
            "Andorra / Tortosa",
            "Barcelona Avenida Augusta",
            "Tarragona Cambrils"
        ],
        "Daniel Chazo": [
            "NarÃ³n",
            "Ferrol Alcampo",
            "Melide",
            "Lugo (dos centros)",
            "Santiago de Compostela",
            "La CoruÃ±a Juan FlÃ³rez",
            "Bilbao zona Galicia",
            "Ourense Ponte Vella"
        ],
        "Manuel CÃ¡novas": [
            "Ãguilas",
            "Alhama-Murcia",
            "Alicante General Lacy",
            "El Palmar",
            "Ciudad Nueva Condomina",
            "Tarragona Carrefour",
            "Ondara CC",
            "Elche L'Aljub",
            "CastellÃ³n Gran Turia"
        ],
        "Cecilia PÃ©rez": [
            "Carlet",
            "Burjassot",
            "Alzira",
            "Paterna",
            "MarquÃ©s de Sotelo",
            "Nuevo Centro",
            "Onda",
            "Orihuela",
            "Mallorca Can Picafort",
            "Valencia Sagunto"
        ],
        "Martin SebastiÃ¡n": [
            "Alameda MÃ¡laga",
            "Algeciras",
            "AlmerÃ­a (dos centros)",
            "Estepona",
            "CÃ³rdoba Carrefour / JesÃºs Rescatado",
            "MÃ¡laga Calle Victoria",
            "Mislata"
        ],
        "Marisa Carmona": [
            "Albacete Los Llanos",
            "Albacete Albacenter",
            "Madrid CC La Gavia",
            "Madrid CC Alisazul",
            "Ciudad de la Imagen",
            "Valencia El Manar",
            "Toledo Reconquista",
            "Granada Reyes CatÃ³licos",
            "Fuenlabrada"
        ],
        "Laura Ramos": [
            "Alcobendas ConstituciÃ³n",
            "Getafe Calle Madrid",
            "Carrefour Alcobendas",
            "XanadÃº",
            "LeganÃ©s Carrefour",
            "General Ricardos",
            "Acacias",
            "Vaguada",
            "Villaverde"
        ],
        "Blanca Fdez. de la Pradilla": [
            "Aravaca",
            "Gran Plaza 2",
            "AlcalÃ¡ de Henares",
            "Getafe Madrid",
            "San SebastiÃ¡n de los Reyes",
            "Tres Cantos",
            "Mostoles Dos de Mayo",
            "Moratalaz",
            "Ortega y Gasset"
        ],
        "Maribel Amezcua": [
            "CÃ¡ceres CC",
            "Sevilla AsunciÃ³n",
            "Sevilla Macarena",
            "Sevilla San Pablo",
            "Huelva",
            "Plasencia Carrefour",
            "Melide"
        ],
        "Sonia Godino": [
            "Bilbao Correo",
            "Bilbondo",
            "Castro Urdiales",
            "Vitoria",
            "Getxo",
            "Donosti Gros"
        ],
        "VerÃ³nica AlfonsÃ­n": [
            "Pontevedra Bouzas",
            "Pontevedra Carrefour",
            "Ferrol Alcampo",
            "Vigo",
            "MarÃ­n",
            "Santiago CC"
        ],
        "Sergio PerÃ¡n": [
            "Madrid Sur",
            "Madrid NarvÃ¡ez",
            "Madrid Delicias",
            "Toledo Los Alfares",
            "Salamanca Toro",
            "Salamanca Carrefour"
        ]
    };

    /* =======================================================
       RELLENAR TARJETAS DELEGADOS
    ======================================================== */
    const grid = document.getElementById("delegadosGrid");

    Object.keys(centrosPorDelegado).forEach(nombre => {

        const tarjeta = document.createElement("div");
        tarjeta.className = "delegado-card";

        tarjeta.innerHTML = `
            <div class="delegado-header" style="background:${delegadosColores[nombre]}"></div>
            <div class="delegado-body">
                <div class="name">${nombre}</div>
                <div class="centros-toggle">Centros: ${centrosPorDelegado[nombre].length} â–¼</div>
            </div>
            <div class="centros-list"></div>
        `;

        const lista = tarjeta.querySelector(".centros-list");
        centrosPorDelegado[nombre].forEach(c => {
            const item = document.createElement("div");
            item.className = "centro-item";
            item.textContent = c;
            lista.appendChild(item);
        });

        tarjeta.addEventListener("click", () => {
            lista.style.display = lista.style.display === "block" ? "none" : "block";
        });

        grid.appendChild(tarjeta);
    });

    /* =======================================================
       GRÃFICOS DONUT Y RADAR
    ======================================================== */
    new Chart(document.getElementById("donutVisitas"), {
        type: "doughnut",
        data: {
            labels: ["Realizadas", "Pendientes", "Anuladas"],
            datasets: [{
                data: [72, 19, 9],
                backgroundColor: ["#2ECC71", "#3498DB", "#E74C3C"]
            }]
        },
        options: { cutout: "60%" }
    });

    new Chart(document.getElementById("donutServicios"), {
        type: "doughnut",
        data: {
            labels: ["Ajustes", "Revisiones", "AAR", "Otros"],
            datasets: [{
                data: [31, 52, 64, 17],
                backgroundColor: ["#9B59B6", "#1ABC9C", "#F1C40F", "#95A5A6"]
            }]
        },
        options: { cutout: "60%" }
    });

    new Chart(document.getElementById("radarDelegados"), {
        type: "radar",
        data: {
            labels: ["Visitas", "Servicios", "Ventas", "HIT", "AAR", "Ayudas"],
            datasets: Object.keys(delegadosColores).map(nombre => ({
                label: nombre,
                data: [
                    Math.random()*100,
                    Math.random()*100,
                    Math.random()*100,
                    Math.random()*100,
                    Math.random()*100,
                    Math.random()*100
                ],
                borderColor: delegadosColores[nombre],
                backgroundColor: delegadosColores[nombre] + "33",
                borderWidth: 2,
            }))
        },
        options: {
            plugins: { legend: { display: false } },
            scales: { r: { angleLines: { color: "#2a2d36" }, grid: { color: "#2a2d36" } } }
        }
    });

</script>

</body>
</html>
